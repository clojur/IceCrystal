////////////////////////////////////////////////////////////////////////////////////////////////////
// NoesisGUI - http://www.noesisengine.com
// Copyright (c) 2013 Noesis Technologies S.L. All Rights Reserved.
// [CR #868]
////////////////////////////////////////////////////////////////////////////////////////////////////


#include <EASTL/algorithm.h>
#include <NsMath/Utils.h>

#include <limits>


namespace Noesis
{

////////////////////////////////////////////////////////////////////////////////////////////////////
Size::Size(float w, float h): width(w), height(h)
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size::Size(const Sizei& size): width(static_cast<float>(size.width)),
    height(static_cast<float>(size.height))
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size::Size(const Size& size): width(size.width), height(size.height)
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size& Size::operator=(const Size& size)
{
    width = size.width;
    height = size.height;

    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
bool Size::operator==(const Size& size) const
{
    return width == size.width && height == size.height;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
bool Size::operator!=(const Size& size) const
{
    return !(*this == size);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size Size::operator+(const Size& size) const
{
    return Size(width + size.width, height + size.height);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size Size::operator-(const Size& size) const
{
    return Size(width - size.width, height - size.height);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size Size::operator*(float k) const
{
    return Size(width * k, height * k);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size Size::operator/(float k) const
{
    return Size(width / k, height / k);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size& Size::operator+=(const Size& size)
{
    width += size.width;
    height += size.height;
    
    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size& Size::operator-=(const Size& size)
{
    width -= size.width;
    height -= size.height;
    
    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Size& Size::operator*=(float k)
{
    width *= k;
    height *= k;
    
    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size& Size::operator/=(float k)
{
    width /= k;
    height /= k;
    
    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Size::Expand(const Size& size)
{
    width = Max(width, size.width);
    height = Max(height, size.height);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Size::Scale(float scaleX, float scaleY)
{
    width *= scaleX;
    height *= scaleY;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size Size::Zero()
{
    return Size(0.0f, 0.0f);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Size Size::Infinite()
{
    const float inf = std::numeric_limits<float>::infinity();
    return Size(inf, inf);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei::Sizei(uint32_t w, uint32_t h): width(w), height(h)
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei::Sizei(const Size& size): width(static_cast<uint32_t>(size.width)),
    height(static_cast<uint32_t>(size.height))
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei::Sizei(const Sizei& size): width(size.width), height(size.height)
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei& Sizei::operator=(const Sizei& size)
{
    width = size.width;
    height = size.height;

    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
bool Sizei::operator==(const Sizei& size) const
{
    return width == size.width && height == size.height;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
bool Sizei::operator!=(const Sizei& size) const
{
    return !(*this == size);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei Sizei::operator+(const Sizei& size) const
{
    return Sizei(width + size.width, height + size.height);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei Sizei::operator-(const Sizei& size) const
{
    return Sizei(width - size.width, height - size.height);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei Sizei::operator*(uint32_t k) const
{
    return Sizei(width * k, height * k);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei Sizei::operator/(uint32_t k) const
{
    return Sizei(width / k, height / k);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei& Sizei::operator+=(const Sizei& size)
{
    width += size.width;
    height += size.height;

    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei& Sizei::operator-=(const Sizei& size)
{
    width -= size.width;
    height -= size.height;

    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei& Sizei::operator*=(uint32_t k)
{
    width *= k;
    height *= k;

    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei& Sizei::operator/=(uint32_t k)
{
    width /= k;
    height /= k;

    return *this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Sizei::Expand(const Sizei& size)
{
    width = Max(width, size.width);
    height = Max(height, size.height);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void Sizei::Scale(uint32_t scaleX, uint32_t scaleY)
{
    width *= scaleX;
    height *= scaleY;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei Sizei::Zero()
{
    return Sizei(0, 0);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
Sizei Sizei::Infinite()
{
    const uint32_t inf = std::numeric_limits<uint32_t>::infinity();
    return Sizei(inf, inf);
}

}
